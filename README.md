## VK Bot — «Я в деле · Мурманская область»

### Что делает
- Приветствует пользователя при первом входе в диалог и предлагает варианты: «Интересует / Продолжить», «Не интересует / Прекратить», «Другой вопрос».
- Ветка интереса: меню с «Задать вопрос боту» (FAQ) и «Перейти в беседу кандидатов» (ссылка-инвайт).
- Ветка отказа: мягкое возражение + «Ответы на вопросы» или «Связать с наставником» (ссылка-инвайт) или «Прекратить».
- FAQ: 4 категории + фолбэк «Другое» с попыткой автоответа; если не получилось — приглашение в беседу.
- Кнопка «Запустить бота заново» доступна в ключевых местах.

### Требования
- Node.js 18+
- Токен сообщества ВК с правами: messages, groups.
- Включены «Сообщения сообщества» и Long Poll API.

### Быстрый старт (Windows PowerShell)
```powershell
cd "C:\Users\dec\Documents\бот вк"
npm install
copy .\env.sample .\.env
notepad .env  # вставьте значения переменных
npm run dev
```

### Переменные окружения (.env)
- VK_GROUP_TOKEN: токен доступа сообщества (group access token)
- VK_GROUP_ID: числовой ID сообщества
- CHAT_INVITE_URL: ссылка-приглашение в беседу кандидатов
- LOG_LEVEL: уровень логирования (info|debug|warn|error)

Пример: смотрите файл `env.sample`.

### Файлы
- `src/bot.js` — основной файл бота (Long Poll, обработчики payload).
- `src/keyboards.js` — клавиатуры.
- `src/faq.js` — тексты FAQ и построитель клавиатур продолжений.
- `src/config.js` — чтение `.env` и валидация.

### Настройка ВК
1) В сообществе включите «Сообщения сообщества».
2) Получите токен: Управление → Работа с API → Создать ключ доступа (отметьте сообщения).
3) Включите Long Poll API: Управление → Long Poll API → Включить, Версия 5.199.
4) Права бота: подписать на события `message_new`.

### Типичные команды
- Запуск dev: `npm run dev`
- Прод: `npm start`

### Примечания
- ВК не позволяет писать первым без разрешения пользователя. Поэтому приветствие приходит при первом входе в «Сообщения сообщества».
- «Автодобавить» в беседу нельзя — используется ссылка-приглашение.


